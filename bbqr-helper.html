<!DOCTYPE html>
<html lang="en">
<head>
    <style>html,body{opacity:0!important;transition:opacity .3s ease-in-out}html.loaded,body.loaded{opacity:1!important}</style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>BBQr Helper - Complete ColdCard Workflow</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="dist/bbqr-helper.bundle.js" as="script">
    
    <link rel="apple-touch-icon" sizes="180x180" href="icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16x16.png">
    <link rel="shortcut icon" href="icon/favicon.ico">
    
    <!-- Tailwind CSS -->
    <link href="./css/tailwind.css" rel="stylesheet">
    
    <style>
        .step-indicator {
            @apply w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300;
        }
        .step-active {
            @apply bg-gradient-to-r from-purple-500 to-violet-600 text-white shadow-lg shadow-purple-500/25;
        }
        .step-completed {
            @apply bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-500/25;
        }
        .step-inactive {
            @apply bg-white/30 text-slate-500 border border-white/40;
        }
        .step-content {
            @apply hidden;
        }
        .step-content.active {
            @apply block;
        }
        .gradient-button-primary {
            @apply px-6 py-3 md:px-8 md:py-4 bg-gradient-to-r from-purple-300 to-violet-400 hover:from-purple-400 hover:to-violet-500 text-white font-semibold rounded-2xl md:rounded-3xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 shadow-lg shadow-purple-300/25 hover:shadow-xl hover:shadow-purple-400/40 text-sm md:text-base text-center;
        }
        .gradient-button-success {
            @apply px-6 py-3 md:px-8 md:py-4 bg-gradient-to-r from-emerald-300 to-teal-400 hover:from-emerald-400 hover:to-teal-500 text-white font-semibold rounded-2xl md:rounded-3xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 shadow-lg shadow-emerald-300/25 hover:shadow-xl hover:shadow-emerald-400/40 text-sm md:text-base text-center;
        }
        .gradient-button-secondary {
            @apply px-6 py-3 md:px-8 md:py-4 bg-gradient-to-r from-slate-300 to-slate-400 hover:from-slate-400 hover:to-slate-500 text-white font-semibold rounded-2xl md:rounded-3xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 shadow-lg shadow-slate-300/25 hover:shadow-xl hover:shadow-slate-400/40 text-sm md:text-base text-center;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen font-sans text-slate-700 relative overflow-x-hidden">
    
    <!-- Subtle background texture -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute inset-0 bg-gradient-to-br from-purple-100/30 via-transparent to-violet-100/20"></div>
        <div class="absolute inset-0 bg-gradient-to-tl from-indigo-100/20 via-transparent to-purple-100/25"></div>
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(139,92,246,0.05)_0%,transparent_50%)] animate-pulse" style="animation-duration: 8s;"></div>
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(168,85,247,0.04)_0%,transparent_50%)] animate-pulse" style="animation-duration: 12s; animation-delay: 2s;"></div>
    </div>

    <!-- Main Container -->
    <div class="relative z-10 max-w-sm md:max-w-4xl lg:max-w-6xl xl:max-w-7xl mx-auto 
                md:rounded-3xl md:my-6 lg:my-8 
                overflow-hidden min-h-screen md:min-h-0">
        
        <!-- Header -->
        <div class="relative px-6 py-8 md:px-12 md:py-10 lg:px-16 lg:py-12 text-center">
            
            <!-- Mobile handle -->
            <div class="absolute top-3 left-1/2 transform -translate-x-1/2 
                        w-9 h-1.5 bg-slate-400/40 rounded-full md:hidden"></div>
            
            <!-- Back Button -->
            <a href="index.html" 
               class="absolute top-5 left-6 md:left-12 lg:left-16 z-20
                      glass-card hover:glass-card rounded-full px-3 py-1.5 md:px-4 md:py-2
                      text-slate-500 hover:text-slate-700 text-sm font-medium 
                      transition-all duration-300 hover:scale-105 transform
                      flex items-center justify-center gap-1
                      shadow-lg shadow-slate-500/10 hover:shadow-xl hover:shadow-slate-500/20
                      bg-white/25 backdrop-blur-xl border border-white/30 hover:border-white/50
                      ring-1 ring-white/30 hover:ring-white/40 ring-inset
                      no-underline min-w-12 h-8 md:min-w-14 md:h-10"
               data-i18n="back">
                <span class="text-lg">‚Üê</span>
            </a>
            
            <!-- Language Toggle -->
            <button class="language-toggle absolute top-5 right-6 md:right-12 lg:right-16 z-20
                           glass-card hover:glass-card rounded-full px-3 py-1.5 md:px-4 md:py-2 
                           text-slate-500 hover:text-slate-700 text-sm font-medium 
                           cursor-pointer transition-all duration-300 hover:scale-105 transform
                           min-w-11 h-8 md:min-w-12 md:h-10 
                           flex items-center justify-center
                           shadow-lg shadow-slate-500/10 hover:shadow-xl hover:shadow-slate-500/20
                           bg-white/25 backdrop-blur-xl border border-white/30 hover:border-white/50
                           ring-1 ring-white/30 hover:ring-white/40 ring-inset" 
                    onclick="toggleLanguage()">
                ENG
            </button>
            
            <!-- Title -->
            <div class="relative z-10">
                <h1 class="text-2xl md:text-3xl lg:text-4xl font-bold text-slate-700 
                           tracking-tight mb-3 animate-fadeInUp" data-i18n="title">
                    üîê BBQr Helper
                </h1>
                <p class="text-sm md:text-base text-slate-500 leading-relaxed animate-fadeInUp" 
                   style="animation-delay: 0.1s;" data-i18n="subtitle">
                    Complete PSBT to ColdCard to Broadcast Workflow
                </p>
            </div>
        </div>

        <!-- Progress Steps -->
        <div class="px-6 md:px-12 lg:px-16 pb-6 md:pb-8">
            <div class="glass-card rounded-2xl md:rounded-3xl 
                        p-4 md:p-6 lg:p-8 transition-all duration-300 ease-out
                        shadow-xl shadow-slate-300/25
                        bg-white/20 backdrop-blur-xl border border-white/30
                        ring-1 ring-white/20 ring-inset
                        animate-fadeInUp"
                 style="animation-delay: 0.2s;">
                
                <div class="flex justify-between items-center max-w-4xl mx-auto">
                    <div class="flex items-center">
                        <div id="step1-indicator" class="step-indicator step-active">1</div>
                        <span class="ml-2 text-xs md:text-sm font-medium text-slate-600" data-i18n="step1">Import PSBT</span>
                    </div>
                    <div class="flex-1 h-px bg-gradient-to-r from-white/40 via-slate-300/60 to-white/40 mx-2 md:mx-4"></div>
                    <div class="flex items-center">
                        <div id="step2-indicator" class="step-indicator step-inactive">2</div>
                        <span class="ml-2 text-xs md:text-sm font-medium text-slate-600" data-i18n="step2">Generate BBQr</span>
                    </div>
                    <div class="flex-1 h-px bg-gradient-to-r from-white/40 via-slate-300/60 to-white/40 mx-2 md:mx-4"></div>
                    <div class="flex items-center">
                        <div id="step3-indicator" class="step-indicator step-inactive">3</div>
                        <span class="ml-2 text-xs md:text-sm font-medium text-slate-600" data-i18n="step3">Scan Signed</span>
                    </div>
                    <div class="flex-1 h-px bg-gradient-to-r from-white/40 via-slate-300/60 to-white/40 mx-2 md:mx-4"></div>
                    <div class="flex items-center">
                        <div id="step4-indicator" class="step-indicator step-inactive">4</div>
                        <span class="ml-2 text-xs md:text-sm font-medium text-slate-600" data-i18n="step4">Broadcast</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step Content Container -->
        <div id="steps-container" class="px-6 md:px-12 lg:px-16 pb-6 md:pb-12 lg:pb-16">
            
            <!-- Quick Actions Section - Independent -->
            <div class="mb-6 md:mb-8">
                <div class="glass-card rounded-2xl md:rounded-3xl 
                            p-4 md:p-6 lg:p-8 transition-all duration-300 ease-out
                            shadow-xl shadow-purple-300/25 hover:shadow-2xl hover:shadow-purple-400/40
                            bg-gradient-to-r from-purple-50/30 to-violet-50/20 backdrop-blur-xl 
                            border border-purple-200/40 hover:border-purple-300/60
                            ring-1 ring-purple-100/30 hover:ring-purple-200/50 ring-inset
                            animate-fadeInUp"
                     style="animation-delay: 0.1s;">
                    
                    <div class="text-center">
                        <h3 class="text-lg md:text-xl font-bold text-purple-900 mb-2 md:mb-3 tracking-tight" data-i18n="quickActionsTitle">
                            ‚ö° Quick Actions
                        </h3>
                        <p class="text-sm md:text-base text-purple-700 mb-4 md:mb-6 leading-relaxed" data-i18n="quickActionsDesc">
                            Skip BBQr generation if you already have a signed PSBT
                        </p>
                        <button id="quick-skip-to-scan-btn" 
                                class="gradient-button-primary px-8 py-4 md:px-10 md:py-5 text-base md:text-lg"
                                data-i18n="quickSkipBtn">
                            üì∑ Skip to Scan Signed PSBT
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Steps will be managed by JavaScript -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="dist/bbqr-helper.bundle.js"></script>
    <script>
        // Prevent flash of unstyled content
        document.addEventListener('DOMContentLoaded', function() {
            document.documentElement.classList.add('loaded');
            document.body.classList.add('loaded');
        });
    </script>
</body>
</html> 